-- 영화관 일련번호 1에 대한 상영 정보 Query.
select 
 screen_regdata.screen_regdata_movietitle 영화명, 
 theater.theater_name 영화관이름,
 theater.theater_area 영화관지역,
 theater.theater_location 영화관위치,
 screen.screen_id 상영관번호, 
 screen.screen_classification 상영관구분, 
 screen.screen_seat_totalcount 상영관좌석_총개수
from 
 theater inner join screen on theater.theater_idx = screen.theater_idx
 inner join screen_regdata on screen_regdata.screen_idx = screen.screen_idx
 inner join screen_schedule on screen_schedule.screen_regdata_idx = screen_regdata.screen_regdata_idx
where theater.theater_idx = 1;

-- DOCID 'F32196' 겨울왕국에 대한 상영 정보 Query.
select 
 screen_regdata.screen_regdata_movietitle 영화명, 
 theater.theater_name 영화관이름,
 theater.theater_area 영화관지역,
 theater.theater_location 영화관위치,
 screen.screen_id 상영관번호, 
 screen.screen_classification 상영관구분, 
 screen.screen_seat_totalcount 상영관좌석_총개수
from 
 screen_regdata inner join screen on screen_regdata.screen_idx = screen.screen_idx
 inner join theater on theater.theater_idx = screen.theater_idx
 inner join screen_schedule on screen_schedule.screen_regdata_idx = screen_regdata.screen_regdata_idx
where screen_regdata.docid = 'F32196';

-- 무비에어리어 강남점의 모든 상영일정 Query.
select 
 screen_regdata.screen_regdata_movietitle 영화명, 
 theater.theater_name 영화관이름,
 theater.theater_location 영화관위치,
 screen.screen_id 상영관번호, 
 screen.screen_classification 상영관구분,
 screen.screen_seat_totalcount 상영관좌석_총개수,
 screen_schedule.screen_schedule_date 상영날짜,
 screen_schedule.screen_schedule_time 상영시간
from 
 theater inner join screen on theater.theater_idx = screen.theater_idx
 inner join screen_regdata on screen_regdata.screen_idx = screen.screen_idx
 inner join screen_schedule on screen_schedule.screen_regdata_idx = screen_regdata.screen_regdata_idx
where theater.theater_name = '무비에어리어 강남점'

--  2020-02-03 날짜에 강남지점의 겨울왕국2를 상영하는 모든 상영관의 좌석 정보.
select 
 screen_regdata.screen_regdata_movietitle 영화명, 
 theater.theater_name 영화관이름,
 screen.screen_id 상영관번호, 
 screen.screen_classification 상영관구분,
 screen.screen_seat_totalcount 상영관좌석_총개수,
 screen_schedule.screen_schedule_date 상영날짜,
 screen_schedule.screen_schedule_time 상영시간,
 screen_seat.screen_seat_id 좌석번호,
 screen_seat.screen_seat_status 좌석상태
from 
 theater inner join screen on theater.theater_idx = screen.theater_idx
 inner join screen_regdata on screen_regdata.screen_idx = screen.screen_idx
 inner join screen_schedule on screen_schedule.screen_regdata_idx = screen_regdata.screen_regdata_idx
 inner join screen_seat on screen.screen_idx = screen_seat.screen_idx
where theater.theater_name = '무비에어리어 강남점' and screen_regdata.screen_regdata_movietitle = '겨울왕국2' and screen_schedule.screen_schedule_date = '2020-02-03'